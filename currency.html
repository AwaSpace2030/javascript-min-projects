<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Mini Projects</title>

    <!-- Main Styles -->
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/js/projects/currency/currency.css" />

    <!-- Icons Library -->
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />

    <!-- Code Format Library -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
  </head>

  <body>
    <!-- Top Bar -->
    <section id="header">
      <!-- Content from JS -->
    </section>

    <!-- Main Content Section -->
    <section class="intro-area container con-details">
      <div class="container">
        <div class="todo">
          <h1>Currency Converter</h1>
          <div class="Currency-con">
            <div class="currency-card">
              <h2>ðŸ’± Which currency to convert? ðŸ˜Š</h2>
              <form id="form" class="form">
                <select name="fromCurrency" id="fromCurrency">
                  <option value="">Select currency</option>
                  <option value="USD" data-flag="us">USD</option>
                  <option value="EUR" data-flag="eu">EUR</option>
                  <option value="GBP" data-flag="gb">GBP</option>
                  <option value="SAR" data-flag="sa">SAR</option>
                  <!-- Add more options here -->
                </select>
                <p>To</p>
                <select name="toCurrency" id="toCurrency">
                  <option value="">Select currency</option>
                  <option value="USD" data-flag="us">USD</option>
                  <option value="EUR" data-flag="eu">EUR</option>
                  <option value="GBP" data-flag="gb">GBP</option>
                  <option value="SAR" data-flag="sa">SAR</option>
                  <!-- Add more options here -->
                </select>
              </form>

              <input
                type="number"
                id="amount"
                placeholder="Enter the amount"
                class="in"
                value="amount"
              />
              <div class="display">
                <p id="display">0.0</p>
              </div>
              <button id="submit" class="submit-btn">Convert</button>
            </div>
          </div>
        </div>

        <!-- Code Snippet Section -->
        <section class="code">
          <h1>Code Snippet</h1>
          <div>
            <pre><code class="Snippet language-js">
// API URL to fetch exchange rates
const apiUrl = "https://api.exchangerate-api.com/v4/latest/USD";  
let btnSubmit = document.getElementById("submit");

btnSubmit.addEventListener("click", () => {
  // Get values from the user
  let amount = document.getElementById("amount").value;
  let fromCurrency = document.getElementById("fromCurrency").value; // The currency to convert from
  let toCurrency = document.getElementById("toCurrency").value; // The currency to convert to

  // Fetch exchange rates from the API
  fetch(apiUrl)
    .then((response) => response.json())
    .then((data) => {
      // Extract rates from the fetched data
      let rateFrom = data.rates[fromCurrency]; // Rate of the original currency
      let rateTo = data.rates[toCurrency]; // Rate of the target currency

      // Calculate the converted amount
      let convertedAmount = (amount * rateTo) / rateFrom;

      // Display the result on the UI
      if (amount != "") {
        display.innerHTML = `${amount} ${fromCurrency} = ${convertedAmount.toFixed(2)} ${toCurrency}`;
      } else {
        display.innerHTML = "0.0";
      }
    })
    .catch((error) => {
      display.innerHTML = "An error occurred while fetching the data. Please try again!";
      console.error(error);
    });
});
           </code></pre>
          </div>
        </section>
      </div>
    </section>

    <!-- Footer Section -->
    <footer id="footer"></footer>

    <!-- JavaScript Files -->
    <script src="assets/js/custom.js"></script>
    <script src="assets/js/layout.js"></script>
    <script src="assets/js/projects/currency/currency.js"></script>
  </body>
</html>
